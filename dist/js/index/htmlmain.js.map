{"version":3,"sources":["domain/domain.ts","infra/infra.ts","infra/InMemoryDataStore.ts","infra/ActionRepositoryImpl.ts","infra/ObjectiveRepositoryImpl.ts","htmlmain.ts"],"names":[],"mappings":";;;;;;AKAA,IAAA,QAAA,GAAA,OAAA,CAAA,iBAAA,CAAA;ALSA,AGTA,ADOA,AEPA,AHAA,IDSA,AGTA,ADOA,AEPA,AHAA,QDSA,AGTA,ACAA,AHAA,GEAA,ACAA,AHAA,MCOA,CCPA,ACAA,AHAA,CEAA,ACAA,AHAA,kBEAA,ACAA,AHAA,CEAA,ACAA,AHAA;ADSA,AKDA,AHDA,IGCA,OAAA,GAAA,OAAA,CAAA,eAAA,CAAA;ALCA,AGLA,ADGA,AENA,AHuBA,IEpBA,ACHA,AHuBA,QDfA,AEFA,KDiBA,MEpBA,ACHA,GDGA,ACHA,ODGA,ACHA,CDGA,ACHA,qBDGA,ACHA,CDGA,ACHA;AJSE,AKEF,AHFE,ADcF,IIZA,OLFE,AEAA,QFAA,CACW,MKCb,EHFE,CGEF,AHFc,EFAZ,EAEW,GKAb,CAAA,AHFE,EAAyB,CFAzB,EAGW,KAHX,EAGwB,kBKD1B,CAAA;ALDa,AGHb,ADEE,AELF,AHmBA,IEhBA,ACHA,IFKE,CFCW,GCab,CCdE,GAAA,IFCW,AEDX,GFCW,CGHb,GCHA,OJMa;AACA,AKCb,AFLA,ACHA,AHmBA,IIXA,KLDa,ECYb,KDZa,GAAA,KCYb,EDZa,CCYb,EIXA,GAAA,OAAA,CAAA,iCAAA,CAAA;ALAa,AGLb,ADGI,AENJ,AHoBU,SDZG,AEFJ,ADcC,GEjBV,ACHA,EJQa,GAAA,CEFT,ADcM,GCdW,ADcC,CDZT,ACYH,CCdN;AFGE,AKCN,AFHE,ADAE,AEHF,AH2JD,ICxJG,KGGK,CAAT,CAAW,AFHT,ACHA,CFGU,CAAC,MGGb,CHHI,CGGe,AHHE,UCAnB,ADAmB,CCAC,ADAD,EAAC,AEHpB,CAAoB,MDGpB,EAAwC,CCHxC,EAAwC;ACOxC,AFJoB,ADAI,AEHJ,SCOb,AFJa,ACHA,IFGI,IGIT,CAAC,AFJI,ADAQ,AEHR,CFGS,ECAT,ACHA,OFGI,CAAe,CCAnB,ADAoB,AEHpB,CCOb,AHJkC,CGIX,CHJS,CAAK,KAApB,CGIjB,CAAP,EHJqD,CAA7B;AFIxB,AKCD,AFPS,ADE8C,AEL9C,AHsBD,EDbP,ACaO,GCjBL,ICFM,ACHA,CJSR,CAAA,ICaO,CAAA,EEnBC,ACHA,EJSR,CAAA,AGNqD,ACHG,EDGhD,ACHA,CDKgC,ACHA,CDCiB,ACHG,IJS5D,GAAA,KCaO,GAAP,IDbA,MCa6B,CAA7B,EAA8B;ADZ5B,AEJD,ADiBC,WDbO,ACaA,IAAI,QAAA,CAAA,SAAA,CAAU,MAAd,CACL,IAAI,QAAA,CAAA,SAAA,CAAU,EAAd,CAAiB,CAAC,CAAC,EAAnB,CADK,EAEL,CAAC,CAAC,KAFG,EAGL,CAAC,CAAC,MAAF,GAAW,IAAI,QAAA,CAAA,SAAA,CAAU,EAAd,CAAiB,CAAC,CAAC,MAAnB,CAAX,GAAwC,IAHnC,EAIL,IAAI,QAAA,CAAA,QAAJ,CACE,CAAC,CAAC,QAAF,CAAW,WADb,EAEE,CAAC,CAAC,QAAF,CAAW,OAAX,IAAsB,EAFxB,EAGE,CAAC,CAAC,QAAF,CAAW,KAAX,GAAmB,CAAC,CAAC,QAAF,CAAW,KAAX,CAAiB,GAAjB,CAAqB,UAAA,CAAA,EAAC;ADnB3C,AKAN,AFLI,ACHA,AH2BiD,MDnB/C,GKAG,AFLA,ACHA,IH2B4C,EInBrD,CAAgB,CLAC,ACmBwC,EDnBtC,KAAK,AKAxB,CJmByD,CInB/B,AJmB+B,IAAJ,CAAS,CExB1D,AFwB2D,CAAC,CInBhE,CLDW,AGJwB,ACH/B,CCQ8B,CJmBmB,CG3Bf,CDGC,AFwB+B,CAAC,CAAC,CG3B9B,GH2BW,CAAA,YExBd,CAAA,ECHG,CAAA,cDGP,CAAgD,ECH7C,CAAsD,MDGA,CAAC,ECHQ,CAAC,UDGnB,EAAhD,CAA/B,GCHwF,EAAtD,CAAlC;AJSE,AKAJ,AFLE,ADCF,AEJE,AH0ByE,ECtB3E,GDsByB,CDlBrB,ACkBE,GIlBC,AFLA,ACHA,AH0BwE,EAH3E,CAJK,CDXE,ACWT,EDXW,EKAE,AFLb,ACHA,CCQc,CHJhB,CFIkB,AEJlB,OFES,EEFT,CAAA,CGIO,CAAuB,KHJ9B,GGIO,AHJP,EGIwC,UHJxC,MGIO,CAAkD,OAAlD,EAA2D,QAA3D,CAAP;ALCI,AKAL,AFLE,ADAD,AEHC,AH2BA,GAVM,GDTH,EELJ,GFKS,EAAE,AELX,GAAA,EFKgB,EELhB,GFKW,CAAW,GAAX,CAAe,UAAA,CAAA,EAAC;AAAI,eAAA,CAAC,CAAC,QAAF,EAAA;AAAY,AKE7C,AFLE,ADDE,AEFF,AH2BO,EExBP,ACHA,AH2BO,EInBL,GLFS,IEJF,IDyBF,CAAA,CCzBQ,CAAC,ICChB,ADDS,CCCT,ADDqB,EEFrB,CAAA,EFE0B,ICC1B,CAAA,CFwBO,CG3BP,CAAA,CFES,ADyBT,ECzBqC,ECCrC,CDDS,CAAgC,CCCzC,ACHA,GAAA,AH2B0B,CAA1B,EAA2B,GCzBc,CCChC,EDDgC,CEFhC,CFEmC,ICC5C,EAAsD,CCHtD,EAAyD;AJGhD,AKMX,AFLI,ADF8C,AED9C,AH2BA,KDzBA,CKME,EFLI,ACHA,GDGG,ACHA,AH2BF,EC1BuC,CCElC,ACHA,CH2BD,EInBA,CFLK,ADFkC,AEDlC,CDGC,ADFkC,AEDlC,CCQH,GJmBH,CExBC,ACHA,AH2BD,CExBY,ACHA,GFCuB,CGO5C,AFLyB,ADFkC,AEDlC,CDGC,ACHA,AH2BjB,CAAO,CC1B4B,CCEvB,ADFuB,AEDvB,IH2BhB,CExB6B,ACHA,AH4BlC,EIpBY,CAAC,CFLH,ACHA,AH4BN,CEzBN,ACHA,MCQc,CJoBR,CIpBuC,AJoBvC,OIpBQ,EAAuD,AJoB/D,CAAU,EAAd,CAAiB,CAAC,CAAC,EAAnB,CADK,EAEL,CAAC,CAAC,KAFG,EAGL,CAAC,CAAC,OAAF,CAAU,GAAV,CAAc,UAAA,CAAA,EAAC;ADvBlB,AKED,AFLE,ADHiE,AEAjE,AH6BqB,GD7BvB,CGGE,ACHA,CFAO,CAAP,EGQI,GAAG,EJqBc,CIrBX,AFLA,ACHA,CDGC,ACHA,CCQb,CJqB2B,QAAA,CAAA,CE1Bd,ACHA,KH6Bc,CAAO,EAAX,CAAc,CAAd,CAAA;AIpBvB,AFNmB,ADFlB,AEDkB,AH6BoB,GC9BvC,CGUA,CJoBI,CAHK,EAIL,IIrBI,AJqBA,CIrBC,AFNU,ACHA,OCSnB,AJqBQ,CIrBS,AFNU,ACHA,AH8BnB,CE3BoB,ACHA,IDGD,ACHA,EDGO,ACHA,CH8B9B,CACE,CItBW,AJsBV,CItBU,AJsBT,EItBU,EFNgB,ACHA,CDGA,ACHA,GH+B5B,CAAW,EE5BiB,CAAO,EAAP,ACHA,CDGU,ACHA,EAAV,CAAa,EH8B3C,CE3B8B,CAAiB,AF6B7C,CAAC,CGhC2B,AHgC1B,CE7B0B,ACHoB,CDG3B,CAAR,CCHe,CAAP,CAAR,EHgCb,CAAW,OAAX,IAAsB,EAFxB,EAGE,CAAC,CAAC,QAAF,CAAW,KAAX,GAAmB,CAAC,CAAC,QAAF,CAAW,KAAX,CAAiB,GAAjB,CAAqB,UAAA,CAAA,EAAC;AD1BxC,AKEe,AFNkC,ACHG,AHiCR,ED1B5C,GGJK,ACHA,EDG8C,ACHG,GJOtD,AGJK,ACHA,CJOL,AGJL,ACHA,ECSoB,AJwB6B,GD1B5C,AKEkB,CAAC,AJwB6B,CIxB5B,CLF3B,AKE4B,EAAF,CAAK,GJwBwB,CAAA,CIxB9B,CAAH,EJwB6B,CD1BnD,AKEwC,AJwBoB,CIxBtC,AJwBuC,CAAC,IAAX,EAAiB,CAAC,CAAC,IAAnB,CAAA;ADzBjD,AKCuC,AFLxC,ADDD,AEFC,AHgC0E,EC9B3E,CCFA,ACHA,ECWA,AJwByB,CAAnB,GAAyE,EDzBtE,ACsBL,CAJK,CAAP,EDlBW,IELb,CAAA,GFKS,CAAa,EAAb,EAAiB,CEL1B,CFKS,AELT,EFK8B,EAArB,CAAP,GELF,GAAA,UAAS,EAAT,EAAc;AFMb,AKCD,AHNE,AD+BD,GD5BM,ACkBA,KIfD,GHNG,KGMK,AHNA,GGMG,MHNR,CAAe,CGMC,CAAC,AHNA,CAAC,EGMV,CAAa,EHNrB,CAAP,OGM4B,CAAA,EAAC;AAAI,AFJnC,ADDC,AEFD,EDGA,ACHA,CFAA,UGOsC,CAAC,CAAC,EAAF,CAAK,IFJ3C,CEIsC,AFJtC,ECHA,CCOgD,ADPhD,KCOsC,CFJtC,CAAA,CEIqD,CAAC,ADPtD,CCOuD,ADPvD,IDGA,CEIsC,EFJtC,ACHA,CCO4D,EDP5D,GCOmC,MFJnC,GCHA;AJOF,AKAkE,AFH9D,ACHA,AHiCF,EAAA,GI3BiB,EAAiD,ELApE,EKAmB,AFHR,ACHA,CCM8D,GJ2BvE,CI3BiB,AFHH,ACHA,AHiCd,CD3BF,AKAE,QJ2BA,CAAA,aE9BS,CAA6B,ECH7B,AHiCT,CGjCyC,EHiCzC,EE9BS,EAAP,CCHO,EAAP,KHiCF;AD5CF,AKkBE,AFHC,ADDD,AEFC,AHiCC,CD7CJ,CEcE,CFdF,AGaE,ACHA,KCQM,AJ2BD,KAAK,GI3BI,GAAG,AHJjB,CAAA,ED+BK,GAAiB,CAApB,CI3BuB,CAAC,AJ2BD,CC/BzB,CAAA,CGIiB,CAAa,KHJ9B,GAAA,EGI8B,CAAA,EAAC,KHJvB,EAAR,EAAa;AGIsB,AHHjC,AD+BE,WC/BK,CD+BC,CI5ByB,GHHrB,MD+BV,EI5BwC,CAAC,AHHpC,CGGqC,AHHtB,EGGoB,AHHlB,CGGuB,AHHtB,KGGQ,AHH1B,GGG6C,CHHlB,IAA3B,GAAkC,KAAzC,KGGiC,GAAqC,CAAC,CAAC,EAAF,CAAK,KAA1C,GAA+C,IAA/C;ALlBxB,AKkB0E,AFDrF,ADDC,AEFD,AHiCG,EE9BH,ACHA,CFAA,EGIiB,ELlBN,AKkB4E,CLlB5E,GKkBM,CAA2E,ILlBjF,AKkBM,CAAjB,ELlBW,GGiBX,CAAA,ECHA,CAAA,CJdW,KGiBX,CAAA,ECHA,CAAA,KDGA,GAAA,ACHA,GAAA,ODGS,EAAT,CCHS,CDGa,CCHtB,EAAyB;ACKzB,AFDE,ACHA,QCII,GFDG,ACHA,KDGK,ACHA,CCIC,GAAG,QAAQ,CAAC,MAAT,CAAgB,GFDzB,CAA6B,ECH7B,CAAgC,GCIP,CAAA,CFDzB,CEC0B,AFDY,EAAtC,ACHA,CDGP,ACHgD,EAAzC,CAAP;AJIJ,AKAyC,AFAtC,ADDD,AEFC,AHgCC,EC9BF,CCDA,ACHA,CJKF,IAAA,AC6BQ,GAAG,EI7B8B,CAAC,AJ6B5B,CI7B6B,IHDzC,CAAA,CGCuC,IAAY,CJ6B3B,CAAC,CI7B6B,CAAC,AHDvD,CGCwD,AHDxD,CGCyD,GJ6B7C,CAAqB,CC9BjC,CGCuD,CAAS,CHDhE,IGCsD,CAAf,KHDhC,CD8BK,CAAV,IC9BF,EAAgB;AFClB,AKAwE,AFEtE,ADFE,KGAgB,EAAsD,CHAlE,CAAC,CGAW,CAA0D,GHAhE,OGAgE,AHArE,CGAqE,AHAxD,EGAyD,IHAnD,CAAC,EAApB,CAAL,EAA8B;AFAlC,AKAmF,AHC7E,AEFJ,AH+BE,EG/BF,MH+BK,CAAC,GD9BR,AECY,AD6BR,CI9BkF,CAAC,AJ8B1E,CI9B2E,CHCxE,CGDsE,CAAK,GHC/E,CAAU,CGDgE,EDDpF,CCC8F,ADD9F,OCCoF,EDDpF,CCCsG,ADDtG,CCCuG,CAAC,MAAF,CAAS,AHCtE,AEFzC,GAAA,ECCiF,CHClC,CAAC,EAAP,CAAU,GEFzC,EFEA,CAAN,GEFJ,EAA8B;AJE9B,AKDsH,AHEnH,AEHH,AHgCI,KI/Bc,CJ+Bd,CI/BoH,CDDxH,CHgCO,ED9BP,AKDkB,CAA2G,AJ+BnH,CGhCV,EJEA,CAAqB,AKDH,ADDlB,AHgCc,CI/Bd,AJ+Be,GD9Bf,AIFA,EJE4C,IAA5C,AC8BU,CAAe,CD9B+B,AC8B9B,QAAA,CAAA,SAAA,CAAU,MAAV,CAAiB,IAAjB,EAAD,EAA0B,GAA1B,CAA8B,UAAA,CAAA,EAAC;AD9BnC,AKCrB,AJ6B4D,QI7BtD,CLDe,IAAA,EC8BuC,CD9BvC,AC8BwC,CI7B9C,AJ6B+C,GD9BzC,AKCH,KJ6B0C,EI7BnC,AJ6BmC,CI7BlC,GAAR,CAAY,UAAA,CAAA,EAAC;ALDa,AKCT,AHCjC,AEHA,AH+BsE,OAA/C,CG/BnB,AH+BI,CD9BkC,AEErC,AD4BH,ID9BwC,AKCN,CAAC,CAAC,CLDI,CKCN,CAAK,AHCzC,CAAe,AEHA,CJC2B,EIDxB,CCEkB,EHCf,CGDyB,AHCxB,EAAP,CAAU,EGDW,ADFhC,GCE+C,AHCnD,CGDoD,CAAC,EHCnB,GGDE,CDFlB,CAAC,CCEuC,AHC1D,KEHkB,EAAqB,OCEN;ALAlC,AKAwE,AHEvE,AEHE,AH+BA,IC5BF,CGFgB,CJ8Bd,CI9BuE,GDDnE,CCCU,AHET,CGFuE,AHEtE,EEHE,CFGV,CGFgB,AHEJ,CGFd,ADDe,CAAC,AH+BA,CAAC,IG/BG,CAAC,EH+BjB,CAAqB,KG/BT,CFGd,AEH4B,MAAd,CAAD,CAAX,CH+BA,EAAsC,GAAtC;AI7BJ,AFGA,ADDC,AD4BE,EE3BH,CDPA,KGIM,cAAc,AFGpB,CAAA,EEHuB,OAAO,AFG9B,CEH+B,AFG/B,GEHuB,CAAY,OFGnC,GEHmC,AFGnC,CEHmC,EAAC,OFGxB,QAAZ,EAAkC;AHHlC,AKAwC,AFItC,ACLE,EJCJ,IAAA,CAAA,GIDQ,CDKC,ACLA,ECC+B,GLAxC,AGIc,ACLD,CJCb,AIDc,OCCmC,CLAjD,AKAkD,AFIzC,CEJ0C,AFI3B,ACLf,CAAe,CJCxB,AKAiD,CAAK,IDDxB,CCCU,AFIR,ACLD,CDKE,EEJ0B,EDDlD,CJCT,AGIS,ACLL,EAAmC,EDKG,IAAjC,GAAwC,IEJT,CFItC,EEJ2E,CAAC,CAAC,EAAF,CAAK,KAA1C,GAA+C,IAA/C;ALCtC,AKDwF,AFKzF,ADFD,AEHM,AH+BJ,EC5BF,CCAA,CF4BE,CI/BqB,EAAqE,ILCnF,AKDc,AJ+Bd,CI/BwF,AJ+BvF,GG/BG,AH+BX,CI/BqB,AJ+BT,CI/Bd,EHGA,AEHM,AH+BJ,CC5BF,SAAA,CAAA,MAAA,GAAA,UAAO,MAAP,EAAgB;AFDZ,AKDJ,AHGE,AEHG,AHgCH,MD/BE,EKDE,AHGA,CD6BC,CD/BC,EAAE,CEEC,AD6BT,GAAY,CD/BC,GEET,AD6BY,CDhCT,AEGU,AD6BA,EIhCE,GAAG,AJgCV,CC7BW,AD6BA,CC7BC,EAApB,AD6BQ,CC7BZ,CD6B4B,CIhCC,AHGA,CGHC,CJgClB,CAAoB,CIhCV,CAAY,QJgCF,CAAA,CIhCE,CAAA,AJgCD,EIhCE;ALEjC,AKFqC,AFMjC,ADFJ,AD4BmC,EE1B/B,IHJJ,IAAI,EAAE,AEEA,CGJ+B,AJgCF,CIhCG,CAAC,CHI7B,CFFC,IEEL,CGJ+B,AFMjC,ADFY,CGJ+B,AFM3C,GENiC,AJgCW,CIhCG,AJgCF,KE1B7C,CAAA,IEN+C,CAAA,EAAC,CFMhD,GAAR,IF0BuC,CAAoC,CC5B7B,AD4BP,CAAA,KE1BvC,ADFoD,CAAC,EAAP,CAAU,KAA9C,CAAN;AFJK,AKAmD,AFM5D,ADDG,AEJC,AH+ByE,KDhC3E,ACgCY,CG/BV,AH+BF,EE1BF,GCLQ,CAAC,CDKT,EEN+D,CAAC,AFMhE,CENiE,EAAF,CAAK,AFMpE,CCLI,CAAe,GCD4C,GAAU,ADChD,CAAC,KAAtB,CCD2D,CDC9B,ECDgD,CAAC,CAAC,GDC/E,CAAqC,CCDmB,SDCnB,EAAA,EAAE;AJG1C,AKJyF,ADC3C,AHiC7C,GDnCF,IKCyC,EAAmD,EJkCnF,EIlCgC,CAAwD,CDClD,CHiCjC,EIlC2B,CAAA,CJkCvC,MGjCwD,CAAC,EAAD,CAAX,CAAgB,OAAhB,CAAwB,UAAA,CAAA,EAAC;ACD8B,AFOpG,ADDA,AEL0E,AHkC3E,GAdD,EIrBwB,EAAgF,EFOjG,ADDA,EGNiB,CAAqF,IAArF,CAAxB,ADC4E,CDM1E,ADDA,CAAe,ECCE,ACN6D,CAAC,CDM/E,EDDqB,CAAC,AELoD,CAAU,CFKrE,AEL2D,CFKjD,AELiD,KFK1E,IAAkC,MAAlC;AFDJ,AKJE,AFOE,ADDA,AENsF,IFMtF,KFFJ,AGGS,ACPwC,CAAA,CCAxC,AHME,CGNF,AHMG,CFFZ,EEEI,CCCA,ADDY,GCCG,OAAf,CAAuB,MDDvB,ICCuB,CAAA,EAAC,qCEJ1B,QAHO,GAGC,IAHD,GAIP,QAJO,GAIC,IAJD,GAKP,SALO,GAKE,IALF,GAMP,SANO,GAME,IANF,GAOP,cAPO,GAOO,IAPP,GAQP,eARO,GAQQ,MARR,EASL,IATK,EAAP;ALLF,AKeC,AFFK,ADDH,AEPwF,AHoCzF,CDzCF,CCyCE,CDzCF,AKLA,AHWE,GCOI,CAAC,ACRD,CDQE,OAAF,AF4BJ,CE5Bc,AF4Bd,OE5BI,CAAkB,CF4BtB,CAAA,QE5BsB,KF4BtB,CE5BsB,EAAM,AF4B5B,YAAA;AE3BM,AF4BJ,QAAG,IE5BK,CAAC,AF4BD,KE5BK,CAAC,GF4BX,GAAiB,CAApB,EE5BS,AF4Bc,CE5BC,MAAM,CAAC,KAAtB,CAAL,EAAmC;AHd9B,AKgBb,AFDU,ADDR,AERI,AHqCA,EC7BJ,IGEI,CLhBO,CAAA,EGeH,EHfG,AC2CD,CGrCC,EJNA,AKgBE,AFDD,CAAC,CCTT,CCUuB,CLhBhB,AEcX,CAAA,EGE+B,AJ2B3B,GE5BI,CAAe,GECQ,AHF/B,CGE+B,AHF/B,ECC6B,CAAC,GDD9B,ECCQ,CDDR,GCCuC,CECZ,CFDnB,CECV,IHFS,EAAP,EAAY;AFFd,AKKA,AFDS,ADDL,AERC,AHqCA,IDhCS,CIZV,CCiBE,KHFK,EFHX,GEGgB,SAAL,CAAe,CGED,CHFG,CAAC,CGED,IAAI,AHFrB,CAAP,wBGE4B,CAAA,uBAAJ,CAA4B,SAA5B,CAA5B;AACA,AHFG,GAFD,GGII,kBAAgB,GAAG,IAAI,sBAAA,CAAA,oBAAJ,CAAyB,SAAzB,CAAzB;ALNA,AGKQ,ACRJ,AHoCA,CDjCJ,OGKQ,AF4BA,GDjCM,AIHH,AHoCA,EE5BC,CAAC,AF4BC,MDjCd,EAAuB,AIHD,CDQd,ACRe,CDQA,EF4BG,CAAC,EGpCL,CDQO,ACRzB,CDQ0B,GF4BhB,CAAqB,CE5B3B,EAA6B,IAA7B,CAAkC,CAAC,CAAC,EAApC,AF4BM,CAAV;ADhCF,AKOF,AFFO,ADDP,AEPG,GAXD,GJcA,AKOI,CFPA,EDIN,GFJE,QKOgB,GAAG,GHHrB,MGGM,cAAe,GAAA;ALPnB,AKQA,AFFG,ADxCL,ADmEI,CCnEJ,EAAA,ECiCI,GESI,AJyBD,CAAC,GAAJ,EAAS,IIzBK,GAAG,IAAI,QAAA,CAAA,SAAA,CAAU,EAAd,CAAiB,CAAC,CAAC,aAAD,CAAD,CAAiB,KAAlC,CAAnB;ALRA,AKSA,AFFC,ACRO,AHmCJ,EGnCI,CDFA,GFqCJ,EIzBA,CJyBG,GAAG,EDlCV,CKSW,CJyBP,EIzBU,ODVN,CCUc,ADVd,CCUe,QDVf,CAAA,ICUM,CAAuB,GDV7B,GAAR,ECUc,CAAd,SDVA;AJIE,AKOF,AH5CW,AEiCX,AHoCI,IIzBJ,EJyBI,CCrEO,CAAA,AEiCX,GCWO,CAAC,CLPN,AIJF,ECWA,CAAY,ADXZ,EHoCgB,CDhCd,ACgCe,CD/BJ,AILb,EJIE,EAEW,CEvCF,CDqEP,CAAqB,CCrEd,CFqCT,EAGW,MAHX,AKO6B,CAAC,CLHnB,AC4BT,EAAmC,GAAnC,CIzBQ,AH5CD,EFqCT,AKOF,ELH+B;AAHlB,AKOb,AFFQ,AF2BL,EE3BK,MEEF,GLPO,EAAA,GAAA,AKOC,ELPD,CKOI,GFFT,CAAA,SAAA,CAAA,OEE4B,AFF5B,CEE6B,EFFrC,OEEiB,CAA8B,EFF/B,EAAhB,EAA+B,IEEd,CAAjB,GFFA,EAAuE;AHJ1D,AKOb,AFFE,ACVA,QCYI,CFFC,ACVA,EJKM,IKOA,CLPA,EKOG,AFFd,ACVA,CJKW,AGKI,ECVE,EAAjB,CJKW,QGKX,CAA6B,EAA7B,CEE8B,CAAC,AFFE,OEEnB,EAAhB,CFFoC,CAAD,EAAI,CAAJ,EAAK,CACrC,CADD;AHJW,AKOb,AFDE,ACXA,AHoCA,IAAA,IIxBE,AFDI,CCXD,EJKM,AC+BJ,CIxBD,AJwBE,GIxBC,AJwBT,CGpCA,AHoCY,CD/BD,EILI,AHoCf,CD/BW,EGMS,GAAG,ACXvB,CJKW,AKOO,ADZI,CCYH,GFDS,KECV,CDZI,CCYO,ADZP,EAAC,KCYL,CAApB,QFDyB,CAA6B,OAA7B,CAAqC,EAArC,CAAvB;AHLW,AKOb,AFAE,ACb2B,AHsC3B,IIzBF,KFAO,AFyBA,EDhCM,AKON,CAAC,CDbqB,CAAC,CCa9B,ADb+B,CCanB,AJyBV,EEzBA,CHPW,AGOI,AFyBA,CIzBjB,CDb6B,CJMhB,CCgCQ,CAAC,KAAL,CDhCJ,ACgCe,EEzB1B,CAA6B,AFyBd,EEzBf,AFyB+B,EEzBE,CFyBlB,CAAoB,QEzBD,CAAD,CFyBE,CEzBE,AFyBF,CEzBF,CFyBG,CEzBE;AHLpC,AKMJ,AFAI,ACdiC,AHsCK,IIxB1C,CDdE,EAAqC,GDc/B,CHNC,AKMF,AFAH,CEAI,CFAG,AFwB+B,CGtCxC,CAA6C,EJQ3C,GAAc,EKMlB,CAAmB,EDd4B,CJQvB,AIRuB,AHsCQ,CAAC,CGtCR,CJQrB,AKM3B,CAA0B,ILNF,GAAU,GKMlC,CLNI,CKMkC,GJwBI,CIxB1C,AJwB2E,CAAjC,CIxBE,AJwBF,UIxBG,GAAD,EAAI;ALL5C,AKKiD,AFC/C,ACdF,AHqCyE,KAA5D,CAAf,EEvBI,ECdE,CJQC,AIRA,ECa4C,GFCvC,ACdD,CDcE,ACdD,CDcA,EHNV,AKKwD,AFC1C,CED2C,ELLxC,CAAC,AGMR,CAAR,CCdG,CAAe,CAAC,CJQE,AIRD,CCa2B,GAAoB,ELLrE,AIRoB,CCa6B,ADbpB,KAAxB,CAAL,EAAqC;ACamC,AFEtE,ACdA,AHsCJ,KI1BF,GDZM,GHsCG,EGtCC,CAAC,EHsCG,OGtCR,AHsCJ,CGtCmB,CAAC,CAAC,MAAF,CAAS,KAAxB,IAAiC,EAAjC;AJQF,AKKL,AFEM,ACdA,AHsCJ,GInCH,AJqBE,ODjBO,EAAE,CAAC,EAAH,CAAM,MAAN,CAAH,EAAkB;AAChB,cAAM,IAAI,KAAJ,CAAU,gBAAV,CAAN;AACD,AKIP,AFEM,ACdA,AHuCJ,EI3BF,AJ2BE,IGvCI,IDcI,CCdA,CAAC,GHuCT,CI3BU,AJ2BV,KGvCI,CAAe,CAAC,CDcE,ACdD,CHuCrB,CAAA,EEzB0B,CAAtB,CCde,CDcU,ACdD,KAAxB,EAA+B,GHuCnC,CGvCI,CAAoC,CAAC,AHuCzC,CGvC0C,EAAtC,OHuCY,MAAhB,EAA0C,QAA1C,EAAiE;AIzBnE,AFCQ,ACdH,AHuCD,EI1BJ,GDlBI,GCkBE,AFCE,CEDD,AJ0BC,IAAI,CAAC,EEzBG,CAAC,AFyBD,CAAZ,EAAe,CEzBE,AFyBD,GAAG,EEzBN,CAAU,EEDrB,AJ0BsB,EI1BC,EJ0BN,CAAU,MAA7B,EAAqC,CI1BZ,AJ0Ba,EAAtC,EAA0C,GEzBE,EAAE,CAAC,KAAxB,GAA6B,YAA7B,GAA0C,cAA1C,GAAwD,WAAxD,GAAoE,CAA9E,CAAD,EAAqF,IAArF,CAAR;AHNF,AKMJ,AFCM,ACdL,AHuCG,GG/CI,CCqBR,MLNO,ACgCA,CDhCC,ICgCI,CDhCL,EKMK,CJ0BL,CDhCU,ACgCA,CAAV,EAAa,EDhCE,ACgCf,CDhCgB,ACgCA,IDhCN,CCgCV,EDhCuB,ECgCE,IDhCf,ECgCqB,CAAC,CDhCC,CAApC,ACgC4B,CAAU,CDhCC,ICgCvC,EAA6C;AD/B3C,AKMP,AFCM,AFyBC,GI5BF,CAAN,SJ4Ba,CDhCC,GCgCN,CDhCU,ACgCA,CAAV,IDhCM,ACgCS,CDhCC,KCgChB,KDhCM,CAAN;AACD,AIPG,AHuCF,EGvCE,WHuCG,YGvCH,CAAA,AHuCF,SGvCE,CAAA,OAAA,GAAR,UAAgB,EAAhB,EAAkC,QAAlC,EAA0E;AJQvE,AKML,AFAM,ACbF,AHuCI,MI1BF,AFAA,EF0BE,CGvCC,KDaK,CAAC,GCbX,AHuCc,CE1BJ,ACbK,AHuCA,EE1BE,UEAQ,AJ0BV,GI1B6B,CFAlC,ACbV,CDaE,ACb8B,EAAhC,EAAoC,GCalC,ODbmC,CAAD,EAAI,CAAJ,EAAK,CACxC,CADD,UCa4C,GAAA;AAC9C,AFCG,ACbD,AHqCqB,KEnCrB,GEUE,ADZI,ICYA,GAAG,CAAC,CAAC,AJyBU,KGrCD,GAAG,AHqCM,CAAC,IGrCF,AHqCC,CAAR,GIzBX,CAAD,CAAqB,KAAhC,eDZyB,CAAgC,OAAhC,CAAwC,EAAxC,CAAvB;AJOA,AGOD,ACZC,AHmCmC,GExC7B,CHUN,KILK,AHmCS,CD9Bd,CAAA,AC8BqC,GAAvB,CAAV,GGnCJ,CAAe,CJKf,CAAA,QAAA,GAAA,GILA,CAAgC,EAAhC,EAAoC,IJKpC,MILqC,CAAD,EAAI,CAAJ,EAAK;AJMvC,AKKJ,ADVI,AHmCE,QIzBH,EDVK,CAAJ,CCUG,CLLI,AKKH,ADVG,ICUR,GAAY,CAAZ,KAAkB,GAArB,EAA0B;ALJpB,AKKJ,AFEF,ACZM,AHmCD,EEvBL,MHPM,AILA,EJKE,EAAE,CKKD,GDVK,CJKC,AKKF,ADVE,CAAD,CJKJ,CAAQ,AILA,EDYlB,CAAA,CCZc,CCUD,ADVP,CCUO,ELLH,EADC,EGQX,CAAA,CEFS,CAAa,IAAb,AFET,EEF4B,CFE5B,CEFS,EAAuB,EAAvB,CAAP,IFEK,MAAP,EAA8B,QAA9B,EAAmD;AHN7C,AKKL,AFCD,ACXM,AHmCH,QD9BG,AGMN,KHNW,AGMX,EHNa,CGMb,IHNkB,AGMlB,KHRW;AAGL,AILD,QJKC,MAAM,EAAE,KAAK,MAAL,GAAc,KAAK,MAAL,CAAY,QAAZ,EAAd,GAAuC,IAH1C;AAIL,AKIN,AFCE,AFwBA,IAAA,ID7BI,AKIA,AFCA,CAAC,EEDE,GAAG,AFCA,AFwBA,CAAC,CD7BC,EAAE,KAAK,AKIA,CAAC,GJyBT,CIzBQ,CAArB,ELJgB,CAAc,KGKvB,CAA6B,EHLpB,KGKT,CAAqC,MAAM,CAAC,EAA5C,CAAL,EAAsD;AHT7C,AKSX,AFCI,ACXA,AHkCe,IIxBnB,GLTI,GIDI,CCUD,CAAC,AFCE,CFuBS,EIxBnB,CAAY,AFCE,GEDd,EFCU,AFuBiB,CEvBP,AFuBQ,EGlCN,EHkCU,EGlCN,CAAtB,EAAyB,AHkCD,CAAU,aEvBG,MAAM,CAAC,EAAP,CAAU,AFuBQ,KEvBjD,CAAN,AFuB6D,CAAC,EAAP,CAAU,KAAzC,CAAD,CAAR;AD3BhB,AKIH,AFCG,ACXG,AHiCwE,KDlC5E,ACkCU,EAAoE,CGjC1E,EHiCM,CIvBL,AJuBL,IIvBS,CDVG,CAAC,IAAI,ECUR,CAAA,EDVI,CAAU,KCUlB,CACL,GAAG,CAAC,IAAD,CAAH,IAAa,EADR,EAEL,ADZ4C,EAAE,CCY3C,ADZ4C,CCY3C,IAAD,ADZoB,CCYvB,EDZoD,CCYxC,GAAG,CAAC,IAAD,CAAH,CAAU,CDZC,GAA0C,CCYrD,CAAgB,GAAhB,EAAqB,GAArB,CAAyB,GDZd,GAAwD,ICY1C,CAAA,EAAC,IDZf,GAAoE,CAA9E,CAAD,EAAqF,IAArF,CAAR;ACYsC,ADXtC,AHiCL,GAVD,UIZ4C,CAAC,CAAC,IAAF,EAAA;ALJnC,AKI2C,AFAlD,ACVG,IJMI,CKIK,CAAZ,GAAsD,AFAjD,CHJE,CAAA,AKEF,EAGL,ELLO,CKKJ,CAAC,CLLJ,AGIA,CAAe,GECZ,CAAH,GAAa,GAAG,CLLhB,AKKiB,EFDjB,CAA6B,EECb,CAAH,CAAW,EFDW,CECtB,AFDuB,CECR,CFD5B,EAAwC,OECZ,CAAA,EAAC,AFDY,CAAD,EAAI,CAAJ,EAAK;AHH3C,AKI+B,AFA/B,AFuBJ,EAAA,QEvBQ,CAAJ,EHJO,AKIwB,AFAxB,EFuBX,CAAA,CD3Be,AKIwB,MLJ5B,CACL,CKGiC,AJuBvC,CD1BQ,AKG+B,AJuBvC,CD1BS,GKG0B,CAAS,CAAC,CLHvC,AKGwC,CLH9B,CAAV,CADK,CKIwB,CLF7B,ACyBN,CIvBoD,CAAC,CAAC,AJuBtD,GD3BW,CKIwB,CLD7B,AKC6B,ILJxB,CC2BE,CDvBP,KCuBN,EAAoC,CDvBtB,CAAC,KAAT,CCuBN,CD3BW,CAAP,AC2BuD;ADrBxD,AKFwD,AFCrD,ACXF,AHkCF,KD7BO,AKKM,CAAb,ADVE,EDWE,CEDyD,AJwBzD,EI3BC,CAAP,CJ2BU,CGlCE,AHkCD,CGlCE,CDWC,CAAC,AFuBD,CEvBA,AFuBZ,CEvBI,ACXM,CHkCK,CGlCE,AHkCD,GAAG,KAAK,MGlCd,CAAR,AHkCiB,CAAa,MAAhC,EAAwC,CAAC,EAAzC,EAA6C;AItBhD,AFAO,ACVH,AHiCC,GInCN,EDTI,KH4CK,KAAK,OAAL,CAAa,CAAb,EAAgB,EAAhB,CAAmB,KAAnB,IAA4B,MAAM,CAAC,EAAP,CAAU,KAAzC,EAAgD;ADtBpD,AGAK,ACVJ,AHiCK,GGlDE,QJ2BR,ECuBW,IDvBX,GCuBM,CAAa,CAAb,IAAkB,MAAlB;AD3DN,AKqCF,AJuBQ,GD5DN,EAAA,CKqCI,OJuBO,UAAL,MIvBmB,GAAG,SAAxB,uBAAwB,CAAC,QAAD,EAAmB;AAC/C,AFDI,ACTJ,AHiCM,EGjCN,ECUA,CAAC,CAAC,EJuBI,EExBE,CAAC,CAAL,EAAQ,IFwBI,CAAC,IIvBhB,CAAD,CAAqB,ADVrB,CAAA,ICUA,CJuBiB,EIvBY,CAC3B,CDXF,CAAA,MAAA,GAAA,ECWe,QAAQ,ADXhB,CCWiB,KDXxB,EAAiC,ICUJ,EAE3B,EAF2B,ADV7B,ECaE,ADboD,WCazC,QAAQ,CAAC,OAAT,CAAiB,IAAjB,CAAsB,IAAtB,CAHgB,EAI3B,cAAc,QAAQ,CAAC,KAAT,CAAe,GAAf,CAAmB,UAAA,CAAA,EAAC;AL1CvB,AK0C2B,AFJlC,ACVN,AHiCuB,ED7DV,MGsCP,ACVN,GJ5Ba,CAAA,CK0C2B,ADdxC,GDUc,ACVd,CDUe,AFuBQ,CD7DV,EI4Bb,CJ5BmB,AK0C2B,AFJ3B,CEI4B,CAAC,EJmBjB,CEvBhB,AFuBiB,CD7DnB,AK0C2B,AFJf,GEI2B,AJmBrB,CAAR,GInBiB,GAAiB,CAAC,CAAC,IAAnB,GAAuB,GAAvB,CFJQ,MAAM,CAAC,EAAP,CAAU,KAA3C,CAAD,CAAR;AEI4D,AFH5D,AFsB+B,KInBrB,CAJa,EAK3B,CJkBc,EAAuB,CIvBV,CAKtB,CJkBS,CAAV,EIvBuB,CAA7B;ALDA,AKOD,AFJM,ACXH,AHiCI,GIzBR,GLAE,EAAA,CIRO,OAAL,CAAa,MAAM,CAAC,EAApB,EAAwB,UAAC,CAAD,EAAI,CAAJ,EAAK;AJQ/B,AIPI,AHiCC,UGjCG,CAAJ,EAAO;AJOX,AKSF,AFLM,ACVE,AHiCH,MIlBC,AFLA,ECVE,GDUE,CAAC,EHJT,EINc,CAAC,CAAD,CAAR,ECeW,AFLb,CAAe,EEKC,SAAhB,CFLA,CAA4B,MAA5B,EAAoC,KEKpB,CAAC,EAAD,EAAW,AFLU,CAAD,EAAE;AHFxC,AKOkC,AFJ9B,ACVA,WCc8B,CFJ1B,CHHR,AKOoC,AFJhC,CEIiC,CLPrC,AKOoC,AFJzB,CHFA,AKMuB,IAAS,CLP3C,EACwB,AKMU;ALNvB,AKMmC,AFHxC,ACVH,AHgCH,GInBJ,CJmBI,MEtBM,CHHK,GCyBD,CAAC,CDzBA,EGGG,CHHH,AGGI,CAAD,CAAR,GHHK,GCyBA;AD3BH,AGMF,AFqBW,WD3BT,EC2BS,ID3BT,GAAS,CC2BQ,CAAC,IAAI,KAAJ,CAAU,ED3B5B,qBC2BiD,MAAM,CAAC,EAAP,CAAU,KAAzC,CAAD,CAAR;ADxBd,AKMP,AFFS,ACXH,AH+B0E,KAAlE,CIlBR,CJkB4E,GG/BxE,AH+BI,CG/BH,AH+BP,CG/BE,EAAQ,ICaE,GAAG,SAAb,YAAa,CAAC,EAAD,EAAW;AAAK,ADZ3B,AH+BL,GAVD,KGrBM,GCY2B,EAAE,CAAC,CAAD,CAAF,ADZnB,CAAC,GCY2B,CDZvB,ECYc,GDZlB,CAAU,uBAAuB,MAAM,CAAC,EAAP,CAAU,KAA3C,CAAD,CAAR;AJOG,AKKoC,AFDvC,ACVA,GCWR,CLLW,EAAA,CAAA,CGIH,KHJG,AGIC,CAAC,EHJT,UAAc,GAAd,EAAyB,MGIrB,CAA6B,MAA7B,CAAoC,MAApC;AHHF,AINC,AH+BL,EAAA,WDzBW,ECyBX,CAAA,CDzBe,EAAJ,CAAO,KCyBlB,CDzBwB,ACyBxB,GDzBW,CAAP,WCyBJ,GAAA,UAAgB,MAAhB,EAA0C,QAA1C,EAAuE;ADxBpE,AKKL,AFFQ,AFsBJ,KD3BO,CKOL,EFFE,CFsBC,IAAL,CAAU,EEtBE,CAAC,CFsBb,CAAe,EIpBA,AFFH,CAAR,EEEc,CJoBlB,QIpBE,eAAgB,GAAA;AACpB,AFFK,ACTD,AH+BF,MG/BE,CDEA,CESD,CJoBI,EG/BC,CAAC,SAAL,CAAe,AH+BjB,CIpBc,CAAC,CAAC,CAAC,WAAD,ADXd,CCWa,ADXkB,CCWH,KAAhB,ADXZ,CCWJ,CDX2C,CCWH,SDXI,CAAD,EAAE;AJO3C,AKKA,AFFC,ACTG,AH+BJ,IDzBA,ACyBA,CEvCA,CHcA,CAAA,GKKM,EAAE,ADXA,CAAJ,CH+BM,CIpBC,ADXA,AH+BA,CDzBX,CAAA,EKKe,MLLf,EKKe,AJoBJ,CDzBX,AKKe,SAAA,CAAU,ELLzB,AKKW,CAAiB,CAAC,CAAC,WAAD,CAAD,CAAe,KAAhC,CAAX;ALJE,AKKF,AFFD,ACTO,AH8BW,GE3CnB,OEwBQ,ADXA,GJMG,ACwBQ,KDxBH,AINA,CCWC,ADXA,CAAD,CAAR,AH8BmB,CInBP,AJmBQ,CDxBxB,GCwBuB,CAAR,gBInBoB,CAAC,QAApB,CAA6B,EAA7B,CAAlB;ALJC,AKKD,ADXM,AH6ByB,KDzB/B,ACyBU,CIlBV,CJkBiC,GAAvB,CAAV,EIlBO,CAAC,GAAR,CAAY,SAAZ;AACA,AFFF,ACTO,AH6BN,EEpBD,CFgBA,GIdE,CAAC,CAAC,SAAD,CAAD,CAAa,GFFf,CAAA,KEEE,GAAyB,CFF3B,CAAA,MAAA,CEEoC,CAAC,CFFrC,CEE2B,CAAa,KAAtC,GFFK,MAAP,EAA8B,QAA9B,EAAmD;AHFjD,AKKA,AFHF,IHFE,EAAA,AKKA,CLLA,AKKC,CAAC,AFHJ,KAAA,GHFE,AGEF,CHFE,EAAA,CGEF,CEGG,CLLD,AKKA,CAAiB,KAAjB,GAAyB,CLLtB,KAAH,EAAY,CKKsB,CAAC,KAAnC;ALHE,AKIF,ADZI,AH8BN,EAAA,IIlBE,CAAC,CAAC,ADZE,KJQK,AIRD,CAAC,CH8BX,CAAA,EDtBgB,IAAI,CKIjB,CAAD,CAAmB,AJkBrB,CAAA,CDtByB,GKIvB,ELJkB,CKIS,ILJM,CCsBnC,EG9BM,CAAgC,AH8BtC,CDtBwC,AKIF,CLJG,AKIF,IDZjC,CJQF,AIRyC,CCYhB,CAAiB,CJkBjC,GG9BP,CCYJ,EJkBF,EAAoC,QAApC,EAAiE;ADrB9D,AKID,AFJA,AFsBA,KDzBA,CKOA,EFJI,CFsBC,IEtBI,GFsBT,CAAa,IAAb,CAAkB,MAAlB,CIlBqB,CAAC,MFJlB,CAA6B,EEIF,CAAC,IFJ5B,CAAqC,GEIpB,CAArB,EFJ+C,CAAC,EAA5C,CAAJ,EAAqD;AEKrD,AFJE,ACTE,AH+BJ,MIlBA,CAAC,CAAC,ADbE,CH+BC,GEtBG,CCTA,CAAC,EDSG,CEIX,CAAD,CAAa,AJkBb,EEtBQ,CAAU,ACTd,MCaJ,GAAyB,SAAS,CAAC,QAAV,CAAmB,AFJA,KEInB,CAAyB,AFJA,CAAC,EEI1B,AFJmB,CEIU,AFJA,KAA9C,CAAN,IEIoD,CAAA,EAAC;ALJzD,AKI6D,AFH1D,AFsBD,IAAA,ODvBF,EAAA,CCuBY,CInBiD,AJmBhD,YAAA,OInBgE,CAAC,CAAC,IAAlB,GAAsB,uBAAtB,GAA2C,CAAC,CAAC,IAA7C,GAAiD,WAAjD;ALrB7D,AKqByH,ADZnH,AH+Ba,GDxCnB,EAAA,EKqB2B,CDZrB,CCYqH,IAAhG,AJmBR,CInB6G,EDZlH,CAAC,CCYY,CAAzB,EDZY,AH+Ba,CG/BrB,AH+BsB,IAAD,CAAR;AIlBlB,AFHC,ACTG,AH8B4B,KI3BjC,AJ2BY,EGtCR,AHsC+B,EErB5B,CFqBK,CIlBL,AJkBL,IIlBQ,GFHR,CAAe,QEGG,CAAC,CAAC,CAAC,EFHrB,CAA6B,MAAM,CAAC,CEGhB,CAAD,AFHnB,CEGkC,CFHM,IEGtB,CAAb,EAAqC,GFHD,CAAD,EAAI,CAAJ,EAAK;AHnBlC,AKuBX,AFHE,ACTD,AH8BF,EDzCY,CCqCb,EG7CE,KC+BM,AFHA,CHpBK,AGoBT,CHpBS,AKuBH,CFHC,CHpBE,CKuBA,ELvBE,EAAF,AKuBI,QAAA,CAAA,MAAA,CAAO,EAAX,CAAc,CAAC,CAAC,WAAD,CAAD,CAAe,KAA7B,CAAX;ALHH,AKIG,AFHI,ACTL,CJlDH,EAAc,AI6BZ,KD8BM,EEGE,EL9Da,GAAT,CK8DE,AFHA,CAAC,CAAD,CEGG,AFHX,GH3DM,CAAA,SAAA,KAAA,AK8DqB,CAAC,ML9DtB,CAAA,CK8DK,CAA0B,EAA1B,CAAf,IL9DU,GAAS,EAAT,CAAd;AK+DI,AFHI,AFqBN,EAAA,IIlBE,OAAO,CAAC,CJkBV,CAAA,CIlBE,CAAY,MAAZ,CJkBF,CAAA,gBAAA,GAAA,UAAiB,EAAjB,EAAkC,QAAlC,EAA+E;ADrBjF,AKII,AFHG,ACTL,AH8BE,EG9BF,EJQY,EKIV,CAAC,CAAC,CJkBE,CDtBR,GCsBY,CAAC,GIlBR,AJkBW,CIlBZ,AJkBA,CIlBa,CJkBE,CAAC,GAAG,CG9BrB,CAAA,ECYE,CJkBwB,EIlBC,EJkBN,CAAU,CG9B/B,CAAA,CCYiC,CAAC,EAAP,AJkBzB,CIlBmC,CDZrC,AH8BuC,CAAC,EG9BxC,AH8BE,CIlBA,CJkB0C,QG9BrC,MAAP,EAAiC,QAAjC,EAAsD;ACapD,ADbF,AH+BI,MIlBF,CAAC,CAAC,ADbJ,EH+BO,GG/BP,EH+BY,CG/BZ,GH+BO,CG/BP,AH+BiB,CIlBd,AJkBI,CIlBL,CAAiB,AJkBC,EAAb,CAAgB,EIlBrB,GAAyB,AJkBpB,IAAyB,EIlBC,AJkBC,CIlBA,AJkBC,KIlBjC,AJkBE,EAAsC;ADvB5C,AKMI,AFJE,AFsBE,CDxBR,KKMI,CAAC,CAAC,AJkBE,EEtBE,CHFI,AGER,EAAO,IHFb,CCwBkB,CDxBE,ACwBD,IIlBd,CAAD,CAAmB,KAAnB,CJkBe,EIlBY,MAAM,CAAC,OAAP,CAAe,GAAf,CAAmB,UAAA,CAAA,EAAC;ALLjD,AKKqD,AFH/C,ACVJ,AH+BqB,MDvBvB,GIRO,GJQP,EGEY,CEGyC,CAAC,ADbpD,CCaqD,ADbxC,AH+BQ,CErBP,IEGqC,CFHzC,ACVS,CDUC,ACVA,CH+BS,CG/B7B,AH+B8B,EG/BN,EH+BK,EAAO,IAAP,CAAR,CG/BI,CAAD,EAAI,CAAJ,EAAK,QDUiB,MAAM,CAAC,EAAP,CAAU,KAA9C,CAAN;AHFN,AKK4D,AFFtD,ACVF,AH8BuC,OIlBd,CAA3B,CJkBc,CG9BR,CAAJ,AH8ByC,EG9BlC,CH8BK,CAAV;ADvBN,AKME,AFFG,ACVC,AH8BA,MIlBJ,EDZI,MJMN,EINc,CAAC,CAAD,CAAR,UCYiB,CAAC,MAAM,CAAC,QAAR,CAArB;ALLA,AKMA,ADZI,AH8BD,MIlBH,CAAC,CAAC,KLNF,IKMC,CAAD,CLNA,AKMa,CLLF,EADX,EAEW,IKIX,CLNA,EAGW,AKGc,MAAM,CLN/B,AKMgC,ELFrB,MKEc,CAAgB,CLNzC,EAI6B,EKEJ,CAAsB,GAAtB,CAA0B,UAAA,CAAA,EAAC;ALLzC,AKK6C,AFFtD,ACTC,AH8BF,MErBC,KHHS,AGGL,CAAC,CHHI,EKK6C,CLL7C,EAAA,GGGT,CAAe,YEEuD,AFFtE,CEEuE,AFF3C,CEE4C,IAAlB,CFFtD,EEE4E,AFFxC,UAAC,CAAD,EAAE,UEEgB,GAA2C,CAAC,CAAC,IAA7C,GAAiD,WAAjD;ALJ7C,AKIyG,AFDhH,OECqB,EAA6F,ELJ3G,CGGH,CECiB,AFDrB,CECuH,CFDhH,CHHA,EKIc,CLJd,AKIX,KLJW;AACA,AKIZ,AFDO,ACVJ,AH8BF,IAAA,CI5BK,KFQC,ACVA,CJOK,AKIN,ADXH,EAAO,CH8BC,CAAC,GDvBA,AGGG,CAAC,CAAD,CHHH,AGGL,MFoBK,CDvBA;AACA,AKIX,AFDM,ACVF,AH6Ba,MIlBjB,EDXI,GJOO,AKIN,CAAC,CJkBW,GG7BL,CAAC,EJOF,AKIN,CAAL,CDXiB,AH6BQ,CDtBd,ACsBe,IG7Bb,AH6BY,CG7BF,CH6BS,EDtBrB,GCsBc,CAAR,qBG7BkC,MAAM,CAAC,EAAP,CAAU,KAAhD,CAAD,CAAR;ACYJ,AFDK,ACVD,AH4BkC,KAA5B,EAA8B,GAA9B,CAAV,CIjBM,IAAI,KAAJ,CAAU,OAAV,CAAN;ALHE,AKIH,ADXI,AH4BJ,GARD,ODbO,CAAC,KAAD,IAAU,KAAK,CAAC,IAAN,GAAa,MAAb,IAAuB,CAApC,EAAuC;AACrC,AKIP,AFFO,GErBR,KFqBQ,KAAI,CHFE,AGED,IHFK,KAAJ,CAAU,UAAV,CAAN,EGEA,CAA6B,MAA7B,CAAoC,MAApC;AHDD,AIRD,AH6BJ,EAAA,IG7BI,KAAI,CAAC,GH6BT,CAAA,KG7BI,CAAe,GH6BnB,CAAA,WG7BI,CAA+B,CH6BnC,GAAA,EG7BI,EAAuC,MH6B7B,EAAd,EG7B4C,AH6BhB,CG7Be,EAAE,KH6B7C,EAAyE;ADpBtE,AKIL,AFHQ,ACTA,AH6BJ,EIjBJ,MAAM,AFHE,CEGD,AJiBC,GG7BI,CDSA,ACTJ,AH6BI,CEpBC,AFoBA,CG7BE,EH6BC,CAAZ,EAAe,CAAC,CEpBZ,EFoBe,KAAK,EIjBtB,EAAyB,GJiBR,CAAa,MAAhC,EAAwC,CAAC,EIjBvC,AJiBF,CIjBJ,CJiBiD;AIfjD,ADbU,AH6BJ,EIhBN,MAAM,CAAC,CDbG,AH6BD,KAAK,GG7BI,CAAC,CAAD,CAAR,CH6BD,CAAa,CAAb,EAAgB,CIhBnB,CJgBG,CIhBkB,AJgBC,KAAnB,IAA4B,EAAE,CIhBZ,AJgBa,KAAlC,EAAyC;ADrB3C,AKMF,AFLM,ACRE,AH6BF,IDtBJ,AKMF,CAAC,CAAC,EFLI,AFqBA,EDtBJ,CAAA,KGCY,CAAC,CFqBC,CAAC,CDtBf,CAAA,AKMD,AFLa,CEKd,AFLM,CEKa,KAAnB,CLNE,EKMyB,AJgBV,CDtBf,AKM0B,CAAC,SAAD,CAAD,CLNzB,AKMsC,SAAxC;ALLI,AKOJ,AFNK,ACRE,AH4BgB,IIdvB,CAAC,CAAC,CFdE,MHOO,EKOV,CAAD,CAAa,AJcU,QAAQ,CId/B,AJcgC,GIdP,CJcM,CId/B,CJcsC,IAAP,CAAR;ADpBjB,AKON,AFNG,AFmBwC,IIb3C,CAAC,AFxBC,CEwBA,ELPI,CCoBU,CDpBR,CCoBqC,CDpBnC,ECoBM,CAAV,EDpBS,EAAL,AKOT,CLPiB,AKOlB,CAAiB,KAAjB,ELPU,CKOe,CLRd,CKQX;ALNM,AKON,AFNC,ACTK,AH4BA,GE1CN,CE6BA,ILPM,AIRA,KJQK,AIRD,CAAC,CJQE,KAAK,KAFP,EKSU,CAAC,QAAA,CAAA,GDfhB,CAAgC,ICehB,CAAS,CDfzB,CAAuC,GCevB,EAAD,CAArB,ADfM;AJSA,AKOP,AJaM,GInBD,CAAN,ILDQ,OAAO,EAAE,KAAK,OAAL,CAAa,GAAb,CAAiB,UAAA,CAAA,EAAC;AAAI,AKSvC,AFPE,ACVM,AH6BH,EIZL,AFPE,MEOI,ADjBE,CCiBD,IDjBK,CAAC,GJQ0B,CAAC,CAAC,GKSnC,AFPJ,ACVM,CDUN,CEOoB,GLTiB,EAAA,GGErC,CAAA,GEOoB,GFPpB,GAAA,UAAO,EAAP,EAAsB,QAAtB,EAA2C;AHFM,AKUjD,AFRA,QEQG,AFRH,CHFe,AKUX,CLbO,AKaN,GFRL,GAAA,GEQI,CAAD,AFRH,CEQgB,SAAb,CAAuB,IAAvB,GAA8B,MAA9B,IAAwC,CAA3C,EAA8C;ALTxC,AKUJ,ADlBI,AH6BJ,IAAA,EIXA,ELVI,AIRA,GCkBC,CAAC,EJWI,CAAC,CDrBC,AIRA,CAAC,CJQC,GIRF,CAAR,CJQe,ICqBR,EIXN,CAAL,CLVc,CAAc,QAAd;AAJL,AKeT,AFTA,ACTG,AH4Bc,ODzBf,AIXA,EDiBG,GESC,CJUW,GIVP,AFTV,CAAa,EAAb,EESM,AFTW,AFmBQ,CIVT,AJUU,IAAD,EAAO,GEnBd,CAAD,CFmBQ,CEnBJ,AFmBJ,CEnBA,EAAK,EEShB,CAAN;ALTC,AKUF,AFTG,ACTD,AH2BqC,KD1BtC,AInBA,AH6CU,EAA8B,GElBlC,AFkBI,CElBR,AFkBF,EElBS;AACL,ACTL,AH2BA,GG/CD,AHuCA,KEVM,QAAQ,CAAC,CAAD,CAAR;AHDN,AKUA,AFRM,QEQA,GLVN,MAAA,MKUqB,GAAG,SAAlB,eAAkB,CAAC,CAAD,EAAE;AL7B1B,AK8BE,AFRG,ACTL,AH2BA,EG3BA,AH2BA,CDxCA,EAAA,KK8BK,CAAH,EAAM,EJUR,CAAA,SG3BA,AH2BA,CG3BA,AH2BA,SG3BA,CAAA,KH2BA,CG3BA,EH2BA,CG3BA,SH2BgB,CG3BT,CH2BP,CG3BA,CH2BkC,CG3BT,OH2BzB,CG3BA,CH2B+D,CG3BjB;ACkB1C,ADlBJ,AH4BE,QIVE,ADlBJ,CH4BO,IG5BP,AH4BE,EIVS,CAAC,ADlBZ,AH4Bc,IG5Bd,CCkBI,AJUe,CIVD,CAAd,EJUU,CAAU,MAAV,CAAiB,UAAA,CAAA,EAAC;ADzCnB,AKgCT,AFTA,AFkBgC,EDzCvB,MAAA,AKgCT,CLhCS,CGuBL,CAAC,CAAL,CESK,AJS2B,CIT1B,AFTE,AFkByB,CDzCxB,ACyCyB,CAAC,EDzCpB,ACyCkB,CAAK,EAAL,CAAQ,EDzChC,AKgCO,AJSiB,CIThB,AJSe,CITd,OAAb,CAAL;AACA,AFTE,ACVJ,AH2B8C,KAAlC,CAAZ,EEjBI,ACVA,KAAK,GDUG,CAAC,IAAI,CCVb,CAAe,EAAE,CDUR,ACVS,CDUC,ICVnB,CAAJ,EAA8B,gBDUgB,EAAE,CAAC,KAApC,CAAD,CAAR;AHJN,AKcG,AFTG,ACVF,AH2BF,MDtBF,AILI,EJKJ,CCsBO,KG3BK,CAAC,IAAI,GH2Bf,EG3BW,CAAU,yBAAV,CAAD,CAAR;AJKJ,AGMK,ACVF,AH2BD,IAAA,UAAU,CAAC,YAAA;ADvBb,AKeE,AJQiB,MIRjB,OJQiB,CDvBnB,MKec,CJQa,CAAC,IAAD,CAAR;ADtBjB,AKeD,AFTG,ACVF,AH0B+B,KIdjC,AJcY,CEhBR,CFgB+B,EG1B5B,CH0BK,CEhBJ,AFgBN,CEhBO,CHNP,EAAA,CACW,AILX,CAAa,EAAb,EJIA,AGME,ACVe,CDUA,CHLO,QILN,CAAD,EDUf,ACVmB,CDUS,ACVb,EDUf,ACVoB,EDUY,UAAA,CAAA,EAAC;AHLxB,AGMP,ACVF,AH0BH,GAJD,OGtBQ,CJIK,AIJT,CDUM,CAAJ,ACVK,EDUE,CHNA,GAAA,KAAA;AACR,AKcL,AFRQ,ACVF,QCkBA,ADlBA,EDUE,MEQM,ADlBA,CAAC,CDUC,ACVF,CCkBG,AFRA,ACVX,CCkBY,AFRF,CEQG,AFRX,SEQU,CAAD,CAAa,SAAb,CAAuB,IAAvB,EAAjB;AFPQ,ACVF,AH0BN,EAAA,aAAA,CAAA,SAAA,CAAA,YAAA,GAAA,UAAa,EAAb,EAA4B,QAA5B,EAAyD;ADtBhD,AKcT,AFPO,ACVF,AH0BH,IDvBO,EAAA,CAAA,CKcN,CJSI,IDvBE,GAAP,AKcS,AJST,GAAe,CITF,CAAC,CAAC,EJSK,EDvBN,GAAd,EAAyB,ACuBV,CAAa,KITd,CAAD,AJSE,CITiB,AJSG,KITrC,EAAyC,GJSJ,CAAA,EAAC;ADtBlC,AKcF,AJQwC,MIRxC,KAAK,CAAC,CLdG,ACsB+B,CAAC,CAAC,CAAC,CDtB9B,CCsB4B,CDtBhC,ACsBqC,CDtB9B,CCsByB,CAAQ,EAAR,CAAD,CDtBlB,EKcjB,CLdI,AKcT,CLdE;AACD,AKcD,AFRI,ACVF,AHyBkD,KDvB7C,ACuBQ,CAAf,EEfI,ECVE,CAAC,CCkBD,ADlBJ,CDUM,CAAC,ACVC,ECkBA,KAAJ,CAAU,eFRZ,CEQE,AFR2B,CEQjC,KFRI,CAAoC,EAApC;AESL,ADlBK,AHyBJ,QGzBI,CHyBC,OGzBO,CAAC,EHyBb,EGzBiB,KAAJ,CAAU,uBAAuB,EAAE,CAAC,KAApC,CAAD,CAAR;AJKJ,AGKI,ACTA,AHyBJ,IDrBA,ACqBA,EDrBA,CAAA,CGKI,KAAI,CAAC,AFgBC,CAAC,CDrBX,CAAA,KGKI,GHLJ,ECqBW,CDrBX,YAAA;AACE,AKaJ,ADjBK,AHwBc,QIPhB,KLbQ,ACoBQ,KDpBH,GCoBW,CAAC,CDpBxB,AKaY,CAAC,EJOU,CAAR,KIPH,CAAhB,EAA4B;ALZzB,AKY0B,AFRvB,AFe2B,KDrB/B,ACqBU,EAAuB,CEf7B,EFeM,CAAV,KEfY,CAAC,IAAD,CAAR;AESJ,AFRG,ACTD,AHwBH,GAJD,GGpBI,CDCA,GEgBI,CDjBA,CAAC,OCiBQ,EDjBb,CCiBgB,ADjBD,ICiBK,QAAA,CAAA,EDjBpB,CAA+B,EAA/B,EAAmC,ECiBf,CAAU,MAAd,CAChB,ADlBmC,CAAA,EAAC,CCkBhC,QAAA,CAAA,SAAA,CAAU,EAAd,CAAiB,QAAjB,CADgB,EAEhB,CAAC,CAAC,aAAD,CAAD,CAAiB,KAFD,EAGhB,IAAI,QAAA,CAAA,SAAA,CAAU,EAAd,CAAiB,CAAC,CAAC,eAAD,CAAD,CAAmB,KAApC,CAHgB,EAIhB,yBAAuB,EAJP,CAAlB;ALXA,AKiBA,AFbC,ACTG,IJKJ,CGdA,CHcA,AKiBA,CLjBA,KILQ,CAAJ,EAAO,CJKX,CAAA,EAAA,GAAA,KKiBmB,CAAC,ILjBjB,EKiBH,CAA2B,ELjB3B,EAAY,KKiBZ,EAAsC,eAAtC;ALhBE,AKiBH,AFbA,ACTO,AHwBA,EAAA,CEnCR,EEyBA,KDdQ,CCsBD,ELjBI,EKiBD,AJEF,CAAA,EDnBQ,AILA,CAAC,CAAD,CAAR,CJKY,GCmBZ,CAAA,CDnBiB,AKiBL,CAAC,ILjBD,IKiBA,CLjBe,AKiB5B,EAAyB,AJExB,GDnBgC,ACmBxC,CDnByC,KAArC,MCmBJ;ADlBG,AKgB8B,ADrBzB,AHwBN,KDrBA,GCqBM,GAAG,GAAG,IAAI,CAAC,SAAL,CAAe,KAAK,IAAL,CAAU,GAAV,CAAc,UAAA,CAAA,EAAC;AIF1C,AFbJ,ACRS,AHuByC,SEflD,CEaU,GJEwC,CAAC,CAAC,IIFjC,GAAG,CJE4B,EAAA,CIFxB,GFb1B,KEa0B,CAAA,MAAA,CAAO,MAAX,CAChB,IAAI,QAAA,CAAA,MAAA,CAAO,EAAX,CAAc,CAAC,CAAC,SAAD,CAAD,CAAa,SAA3B,CADgB,EAEhB,CAAC,CAAC,aAAD,CAAD,CAAiB,KAFD,EAGhB,CAAC,CAAC,eAAD,CAAD,CAAmB,KAAnB,CAAyB,KAAzB,CAA+B,GAA/B,EAAoC,GAApC,CAAwC,UAAA,CAAA,EAAC;ALnB7C,AKmBiD,AFnJnD,AFkJ8D,CElJ9D,EAAA,EFkJ+B,CAAf,CAAZ,IDlBF,EAAA,EKmBiD,IAAI,QAAA,CAAA,MAAA,CAAO,EAAX,CAAc,CAAC,CAAC,IAAF,EAAd,CAAA;ALlCjD,AKkCwE,ADvBlE,AHuBJ,GDlCF,CCkCE,CDlCF,EKkCI,CAHgB,ADpBd,ECwBF,CJDK,CAAC,CGvBA,CAAC,CHuBT,CAAY,GAAZ,gBICyB,EAJP,CAAlB,EDpBI,CAAgC,MAAhC,CAAuC,EAAvC;AC0BJ,AFtJS,AFoJT,IAAA,EIEA,CFtJS,CAAA,QFoJG,CAAC,OIEG,AJFhB,CIEiB,AJFI,GEpJZ,GEsJT,AFtJS,CEsJe,QJFxB,CIEA,CJFsC,CIEH,EJFnC,MEpJS,OEsJT;ALrCW,AKsCZ,AD1BK,AHwBL,EDpCY,CCgCL,EIFD,GL9BM,AIYP,CJZO,EAAA,AKsCN,ED1BG,CJZK,AIYJ,EJZE,MIYP;AJMP,AKqBG,CL5DJ,EAAc,GK4DV,GL5DgB,EK4DX,CL5DK,AK4DJ,OL5DI,AK4DL,CL5DK,AK4DV,ML5DU,KAAA,OAAA,CAAA,MAAA,GAAM,EAAN,CAAd;AK6DI,AD3BI,AHyBE,EAAA,MGzBF,IC2BE,GJFA,CIEI,AD3BE,AHyBN,CGzBO,IC2BP,AD3BM,CC2BI,AD3BZ,GHyBE,CAAA,GIEA,CAAN,MJFM,GAAR,YAAA;AIGC,AD3BI,AHyBH,OGjCE,CHiCI,GAAG,GAAG,IAAI,CAAC,SAAL,CAAe,KAAK,OAAL,CAAa,GAAb,CAAiB,UAAA,CAAA,EAAC;AIGhD,AD3BI,AHwBgD,GInC/C,CAAN,CDPI,QH0CiD,CAAC,CAAC,QAAF,EAAA;AIKrD,AD5BG,AHuB8D,EIKjE,CDnDE,EH8C6B,CAAf,CAAZ,CIKE,CAAC,eAAD,EAAkB,YAAA;AACtB,AJLE,IIKF,AJLE,OAAO,CAAC,GAAR,CAAY,GAAZ,MIKiB,CAAC,QAApB,CAA6B,UAAC,GAAD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","file":"htmlmain.js","sourceRoot":"../../../src","sourcesContent":["\nexport interface StringValueObject {\n  readonly value: string;\n}\n\nexport interface EntityIf<T extends StringValueObject> {\n  readonly id: T;\n}\n\nexport class MetaData {\n  constructor(\n    readonly description: string,\n    readonly members: string[],\n    readonly links: Link[]\n  ) {}\n\n  toObject(): any {\n    return {\n      description: this.description,\n      members: this.members,\n      links: this.links.map(v => v.toObject())\n    }\n  }\n  static empty(): MetaData {\n    return new MetaData('', [], [])\n  }\n}\n\nexport class Link {\n  constructor(readonly name: string, readonly path: string) {\n  }\n  toObject(): any {\n    return {\n      name: this.name,\n      path: this.path\n    }\n  }\n}\n\n\nexport module Objective {\n  export class Entity implements EntityIf<Id> {\n    isRoot: boolean;\n    isNotRoot: boolean;\n    constructor(\n      readonly id: Id,\n      readonly title: string,\n      readonly parent: Id,\n      readonly metaData: MetaData\n    ) {\n      this.isRoot = parent ? false: true;\n      this.isNotRoot = !this.isRoot;\n      if(id.eq(parent)) {\n        throw new Error('IDとparentが同一です');\n      }\n      if(!title || title.trim().length == 0) {\n        throw new Error('タイトルが空です');\n      }\n    }\n\n    toObject() {\n      return {\n        id: this.id.toObject(),\n        title: this.title,\n        parent: this.parent ? this.parent.toObject() : null,\n        metaData: this.metaData.toObject()\n      }\n    }\n\n    static root(): Entity {\n      return new Entity(\n        Id.create(0),\n        'root',\n        null,\n        MetaData.empty()\n      );\n    }\n  }\n  export class Id implements StringValueObject {\n    private _class = 'Objective.Id'\n    constructor(\n      readonly value: string\n    ){}\n    static create(num: number): Id {\n      return new Id('O' + num);\n    }\n\n    toObject(): any {\n      return this.value\n    }\n\n    eq(other: Id): boolean {\n      \n      return other && this.value === other.value\n    }\n  }\n  \n  \n}\n\nexport module Action {\n  export class Entity implements EntityIf<Id> {\n    constructor(\n      readonly id: Id,\n      readonly title: string,\n      readonly parents: Objective.Id[],\n      readonly metaData: MetaData\n    ) {\n      if(!title || title.trim().length == 0) {\n        throw new Error('タイトルが空です');\n      }\n    }\n    toObject() {\n      return {\n        id: this.id.toObject(),\n        title: this.title,\n        parents: this.parents.map(v => v.toObject()),\n        metaData: this.metaData.toObject()\n      }\n    }\n  }\n  export class Id implements StringValueObject {\n    constructor(\n      readonly value: string\n    ){}\n    static create(num: number): Id {\n      return new Id('A' + num);\n    }\n\n    toObject(): any {\n      return this.value\n    }\n\n    eq(other: Id): boolean {\n      return other && this.value === other.value\n    }\n  }\n  \n  \n}\n","import {\n  Link,\n  MetaData,\n  Objective,\n  Action} from '../domain/domain'\n\nexport interface DataStore {\n  findAllObjective(): Objective.Entity[];\n  findAllAction(): Action.Entity[];\n\n  updateObjective(entity: Objective.Entity, callback: (err) => void);\n  updateAction(entity: Action.Entity, callback: (err) => void);\n\n  insertObjective(entity: Objective.Entity, callback: (err:Error) => void);\n  insertAction(entity: Action.Entity, callback: (err:Error) => void);\n\n  isExistObjective(id:Objective.Id, callback: (err:Error, value: boolean) => void);\n  isExistAction(id:Action.Id, callback: (err:Error, value: boolean) => void);\n\n  removeObjective(id: Objective.Id, callback: (err:Error) => void);\n  removeAction(id: Action.Id, callback: (err:Error) => void);\n}\n\n\nexport class DataStoreImpl implements DataStore {\n  private callCount = 0;\n  private list: Objective.Entity[];\n  private actions: Action.Entity[];\n\n  static dataToObjectiveEntity(v): Objective.Entity {\n    return new Objective.Entity(\n      new Objective.Id(v.id),\n      v.title,\n      v.parent ? new Objective.Id(v.parent) : null,\n      new MetaData(\n        v.metaData.description, \n        v.metaData.members || [], \n        v.metaData.links ? v.metaData.links.map(v => new Link(v.name, v.path)) : [])\n    )\n  }\n\n  static dataToActionEntity(v): Action.Entity {\n    return new Action.Entity(\n      new Objective.Id(v.id),\n      v.title,\n      v.parents.map(v => new Action.Id(v)),\n      new MetaData(\n        v.metaData.description, \n        v.metaData.members || [], \n        v.metaData.links ? v.metaData.links.map(v => new Link(v.name, v.path)) : [])\n    )\n  }\n\n  findAllObjective(): Objective.Entity[] {\n    if(this.callCount > 0) {\n      throw '2回目の呼出です'\n    }\n    var raw = localStorage.getItem('objectiveTree');\n    if(!raw) {\n      raw = JSON.stringify([Objective.Entity.root()].map(v => v.toObject()));\n      localStorage.setItem('objectiveTree', raw);\n    }\n    console.log(raw);\n\n    this.list = JSON.parse(raw).map(v => DataStoreImpl.dataToObjectiveEntity(v))\n\n    return this.list;\n  }\n\n  findAllAction(): Action.Entity[] {\n    if(this.callCount > 0) {\n      throw '2回目の呼出です'\n    }\n    var raw = localStorage.getItem('actionTree');\n    if(!raw) {\n      raw = '[]';\n      localStorage.setItem('actionTree', raw);\n    }\n    console.log(raw);\n\n    this.actions = JSON.parse(raw).map(v => DataStoreImpl.dataToActionEntity(v))\n\n    return this.actions;\n  }\n\n  updateObjective(entity: Objective.Entity, callback: (err) => void) {\n    for(var i = 0; i < this.list.length; i++) {\n      if(this.list[i].id.value == entity.id.value) {\n        this.list[i] = entity;\n        this.saveObjective();\n        setTimeout(() => callback(null), 100)\n        return;\n      }\n    }\n    setTimeout(() => callback(new Error(`entity not found: ${entity.id.value}`)), 100)\n  }\n\n  updateAction(entity: Action.Entity, callback: (err) => void) {\n    for(var i = 0; i < this.actions.length; i++) {\n      if(this.actions[i].id.value == entity.id.value) {\n        this.actions[i] = entity;\n        this.saveAction();\n        setTimeout(() => callback(null), 100)\n        return;\n      }\n    }\n    setTimeout(() => callback(new Error(`entity not found: ${entity.id.value}`)), 100)\n  }\n\n  insertObjective(entity: Objective.Entity, callback: (err:Error) => void) {\n    this.list.push(entity);\n    this.saveObjective();\n    setTimeout(() => callback(null), 100);\n  }\n\n  insertAction(entity: Action.Entity, callback: (err:Error) => void) {\n    this.actions.push(entity);\n    this.saveAction();\n    setTimeout(() => callback(null), 100);\n  }\n\n  isExistObjective(id:Objective.Id, callback: (err:Error, value: boolean) => void) {\n    for(var i = 0; i < this.list.length; i++) {\n      if(this.list[i].id.value == id.value) {\n        setTimeout(() => callback(null, true), 100)\n        return; \n      }\n    }\n    setTimeout(() => callback(null, false), 100)\n  }\n\n  isExistAction(id:Action.Id, callback: (err:Error, value: boolean) => void) {\n    for(var i = 0; i < this.actions.length; i++) {\n      if(this.actions[i].id.value == id.value) {\n        setTimeout(() => callback(null, true), 100)\n        return; \n      }\n    }\n    setTimeout(() => callback(null, false), 100)\n  }\n\n  removeObjective(id: Objective.Id, callback: (err:Error) => void) {\n    this.list = this.list.filter(v => !v.id.eq(id))\n    this.saveObjective();\n    setTimeout(() => callback(null), 100);\n  }\n\n  removeAction(id: Action.Id, callback: (err:Error) => void) {\n    this.actions = this.actions.filter(v => !v.id.eq(id))\n    this.saveAction();\n    setTimeout(() => callback(null), 100);\n  }\n\n  private saveObjective() {\n    const raw = JSON.stringify(this.list.map(v => v.toObject()));\n    console.log(raw);\n    localStorage.setItem('objectiveTree', raw);\n  }\n\n  private saveAction() {\n    const raw = JSON.stringify(this.actions.map(v => v.toObject()));\n    console.log(raw);\n    localStorage.setItem('actionTree', raw);\n  }\n}","import {\n  EntityIf,\n  StringValueObject\n} from '../domain/domain';\n\n\n\nexport class InMemoryDataStore<I extends StringValueObject, E extends EntityIf<I>> {\n  private entityMap: { [key: string]: E; };\n\n  constructor(entities: E[]) {\n    this.entityMap = {};\n    entities.forEach(v => this.entityMap[v.id.value] = v);\n  }\n\n  findAll(): E[] {\n    return Object.keys(this.entityMap).map(key => this.entityMap[key]);\n  }\n\n  findById(id: I): E {\n    return this.entityMap[id.value];\n  }\n\n  isExist(id: I) {\n    return this.entityMap[id.value] ? true : false;\n  }\n\n  update(entity: E) {\n    if (!this.isExist(entity.id)) {\n      throw new Error(`entity not found: ${entity.id.value}`);\n    }\n    this.entityMap[entity.id.value] = entity;\n    console.log('update inMemory');\n  }\n  insert(entity: E) {\n    if (this.isExist(entity.id)) {\n      throw new Error(`entity already exists: ${entity.id.value}`);\n    }\n    this.entityMap[entity.id.value] = entity;\n    console.log('insert inMemory');\n  }\n\n  remove(id: I) {\n    delete this.entityMap[id.value];\n  }\n}\n","import {\n  Objective,\n  Action\n} from '../domain/domain';\nimport { InMemoryDataStore } from './InMemoryDataStore';\nimport { DataStore } from \"./DataStore\";\n\n\nexport class ActionRepositoryImpl {\n  private inMemoryActionDataStore: InMemoryDataStore<Action.Id, Action.Entity>;\n  private parentMap: { [key: string]: Action.Id[]; } = {}; //key:親, value: 子たち\n\n  constructor(private dataStore: DataStore) {\n    this.inMemoryActionDataStore = new InMemoryDataStore<Action.Id, Action.Entity>(dataStore.findAllAction());\n    this.onUpdate();\n  }\n\n  createId(callback: (err: Error, id: Action.Id) => void): void {\n    const num = Math.floor(Date.now() / 1000);\n    setTimeout(() => callback(null, Action.Id.create(num)), 100);\n  }\n\n  findAll(): Action.Entity[] {\n    return this.inMemoryActionDataStore.findAll();\n  }\n\n  findById(id: Action.Id) {\n    return this.inMemoryActionDataStore.findById(id);\n  }\n\n  /**\n   * 指定したIDに子要素はあるか？\n   * @param parentId \n   */\n  hasChildren(parentId: Objective.Id) {\n    return this.parentMap[parentId.value] ? true : false;\n  }\n\n  private onUpdate() {\n    this.parentMap = {}\n    this.findAll().forEach(v => {\n      v.parents.forEach(parent => {\n        if (!this.parentMap[parent.value]) {\n          this.parentMap[parent.value] = [];\n        }\n        this.parentMap[parent.value].push(v.id);\n      });\n    });\n  }\n\n  private isExist(id: Action.Id, callback: (e: Error, v: boolean) => void) {\n    this.dataStore.isExistAction(id, (e, v) => {\n    });\n    const inMemoryResult = this.inMemoryActionDataStore.isExist(id);\n\n    this.dataStore.isExistAction(id, (e, v) => {\n      if (e) {\n        callback(e, null);\n        return;\n      }\n      if (inMemoryResult != v) {\n        callback(new Error(`different result: ${id.value}, inmemoy ${inMemoryResult}, server ${v}`), null);\n        return;\n      }\n      callback(null, inMemoryResult);\n\n    });\n  }\n\n  update(entity: Action.Entity, callback: (e) => void) {\n    if (!this.inMemoryActionDataStore.isExist(entity.id)) {\n      throw new Error(`entity not found: ${entity.id.value}`);\n    }\n    this.dataStore.isExistAction(entity.id, (e, v) => {\n      if (e) {\n        callback(e);\n        return;\n      }\n      if (!v) {\n        callback(new Error('entity not found: ' + entity.id.value));\n        return;\n      }\n      this.dataStore.updateAction(entity, (e) => {\n        if (e) {\n          callback(e);\n          return;\n        }\n        this.inMemoryActionDataStore.update(entity);\n        callback(null);\n      });\n    });\n  }\n\n  insert(entity: Action.Entity, callback: (e) => void) {\n    if (this.inMemoryActionDataStore.isExist(entity.id)) {\n      throw new Error(`entity already exists: ${entity.id.value}`);\n    }\n    this.dataStore.isExistAction(entity.id, (e, v) => {\n      if (e) {\n        callback(e);\n        return;\n      }\n      if (v) {\n        throw new Error(`entity already exists: ${entity.id.value}`);\n        return;\n      }\n      this.dataStore.insertAction(entity, (e) => {\n        if (e) {\n          callback(e);\n          return;\n        }\n        this.inMemoryActionDataStore.insert(entity);\n        this.onUpdate();\n        callback(null);\n      });\n    });\n  }\n\n  remove(id: Action.Id, callback: (e) => void) {\n    this.isExist(id, (e, v) => {\n      if (e) {\n        callback(e);\n        return;\n      }\n      if (!v) {\n        callback(new Error('entity not found: ' + id.value));\n        return;\n      }\n      this.dataStore.removeAction(id, e => {\n        if (e) {\n          callback(e);\n          return;\n        }\n        this.inMemoryActionDataStore.remove(id);\n        this.onUpdate();\n        callback(null);\n      });\n    });\n  }\n}\n","import { Objective } from '../domain/domain';\nimport { InMemoryDataStore } from './InMemoryDataStore';\nimport { DataStore } from \"./DataStore\";\n\n\nexport class ObjectiveRepositoryImpl {\n  private inMemoryObjectiveDataStore: InMemoryDataStore<Objective.Id, Objective.Entity>;\n  private parentMap: { [key: string]: Objective.Id[]; } = {}; //key:親, value: 子たち\n\n  constructor(private dataStore: DataStore) {\n    this.inMemoryObjectiveDataStore = new InMemoryDataStore<Objective.Id, Objective.Entity>(dataStore.findAllObjective());\n    this.onUpdate();\n  }\n\n  createId(callback: (err: Error, id: Objective.Id) => void): void {\n    const num = Math.floor(Date.now() / 1000);\n    setTimeout(() => callback(null, Objective.Id.create(num)), 100);\n  }\n\n  findAll(): Objective.Entity[] {\n    return this.inMemoryObjectiveDataStore.findAll();\n  }\n\n  findById(id: Objective.Id) {\n    return this.inMemoryObjectiveDataStore.findById(id);\n  }\n\n  findUnder(rootId: Objective.Id) {\n    var getChildren = (rootId: Objective.Id): Objective.Entity[] => {\n      var list = [this.findById(rootId)];\n      if (!this.parentMap[rootId.value]) {\n        return list;\n      }\n      this.parentMap[rootId.value].forEach(ch => getChildren(ch).forEach(v => list.push(v)));\n      return list;\n    };\n\n    return getChildren(rootId);\n  }\n\n  private onUpdate() {\n    this.parentMap = {}\n    this.findAll().filter(v => v.parent).forEach(v => {\n      if (!this.parentMap[v.parent.value]) {\n        this.parentMap[v.parent.value] = [];\n      }\n      this.parentMap[v.parent.value].push(v.id);\n    });\n  }\n\n  private isExist(id: Objective.Id, callback: (e: Error, v: boolean) => void) {\n    this.dataStore.isExistObjective(id, (e, v) => {\n    });\n    const inMemoryResult = this.inMemoryObjectiveDataStore.isExist(id);\n\n    this.dataStore.isExistObjective(id, (e, v) => {\n      if (e) {\n        callback(e, null);\n        return;\n      }\n      if (inMemoryResult != v) {\n        callback(new Error(`different result: ${id.value}, inmemoy ${inMemoryResult}, server ${v}`), null);\n        return;\n      }\n      callback(null, inMemoryResult);\n\n    });\n  }\n\n  update(entity: Objective.Entity, callback: (e) => void) {\n    this.isExist(entity.id, (e, v) => {\n      if (e) {\n        callback(e);\n        return;\n      }\n      if (!v) {\n        callback(new Error('entity not found: ' + entity.id.value));\n        return;\n      }\n\n      this.dataStore.updateObjective(entity, (e) => {\n        if (e) {\n          callback(e);\n          return;\n        }\n        this.inMemoryObjectiveDataStore.update(entity);\n        this.onUpdate();\n        callback(null);\n      });\n    });\n  }\n\n  insert(entity: Objective.Entity, callback: (e) => void) {\n    this.isExist(entity.id, (e, v) => {\n      if (e) {\n        callback(e);\n        return;\n      }\n      if (v) {\n        callback(new Error('entity already exists: ' + entity.id.value));\n        return;\n      }\n      this.dataStore.insertObjective(entity, (e) => {\n        if (e) {\n          callback(e);\n          return;\n        }\n        this.inMemoryObjectiveDataStore.insert(entity);\n        this.onUpdate();\n        callback(null);\n      });\n    });\n  }\n\n  remove(id: Objective.Id, callback: (e) => void) {\n    if (this.parentMap[id.value]) {\n      callback(new Error('children already exists'));\n    }\n    this.isExist(id, (e, v) => {\n      if (e) {\n        callback(e);\n        return;\n      }\n      if (!v) {\n        callback(new Error('entity not found: ' + id.value));\n        return;\n      }\n      this.dataStore.removeObjective(id, e => {\n        if (e) {\n          callback(e);\n          return;\n        }\n        this.inMemoryObjectiveDataStore.remove(id);\n        this.onUpdate();\n        callback(null);\n      });\n    });\n  }\n}\n","import {\n  Link, \n  MetaData, \n  StringValueObject,\n  Objective, \n  Action\n} from './domain/domain'\n\nimport {\n  DataStoreImpl\n} from './infra/infra'\nimport { DataStore } from \"./infra/DataStore\";\nimport { ActionRepositoryImpl } from \"./infra/ActionRepositoryImpl\";\nimport { ObjectiveRepositoryImpl } from \"./infra/ObjectiveRepositoryImpl\";\ndeclare const mermaid: any;\nfunction q(selector) {\n  return document.querySelector(selector);\n}\nfunction qclick(selector, callback) {\n  return document.querySelector(selector).addEventListener('click', callback);\n}\n\ntry {\nconst toMermaid = (entities: Objective.Entity[], actions: Action.Entity[]) => {\n  const map = {};\n  entities.forEach(v => map[v.id.value] = v);\n  const rectText = entities.map(v => `${v.id.value}[\"${v.title}\"]`).join('\\n');\n  const linkText = entities.map(v => `click ${v.id.value} \"./index.html#${v.id.value}\"`).join('\\n');\n  const arrowText = entities.filter(v => v.parent && map[v.parent.value]).map(v => `${v.id.value} --> ${v.parent.value}`).join('\\n');\n\n  const roundText = actions.map(v => `${v.id.value}(\"${v.title}\"):::action`).join('\\n');\n  const actionLinkText = actions.map(v => `click ${v.id.value} \"./index.html#${v.id.value}\"`).join('\\n');\n  const actionArrowText = actions.map(v => v.parents.map(p => `${v.id.value} --> ${p.value}`).join('\\n')).join('\\n');\n  return `\ngraph LR\nclassDef action fill:#ECFFEC, stroke: #93DB70;\n${rectText}\n${linkText}\n${arrowText}\n${roundText}\n${actionLinkText}\n${actionArrowText}\n  `.trim()\n}\nconst dataStore: DataStore = new DataStoreImpl();\nconst objectiveRepository = new ObjectiveRepositoryImpl(dataStore)\nconst actionRepository = new ActionRepositoryImpl(dataStore)\n\nconst onTreeUpdate = () => {\n  const treeRootId = new Objective.Id(q('#rootIdSpan').value);\n  var element = document.querySelector(\"#profu\");\n  console.log(objectiveRepository.findAll());\n  const entities = objectiveRepository.findUnder(treeRootId)\n  const actions = actionRepository.findAll()\n  var text = toMermaid(entities, actions);\n  console.log(text);\n  mermaid.mermaidAPI.render('graphDiv', text, (svg) => element.innerHTML = svg);\n}\nonTreeUpdate();\n\nqclick('#applyRootIdButton', () => {\n  onTreeUpdate()\n})\n\nconst getMetaDataFormTextArea: () => MetaData = () => {\n  var text = q('#detailTextArea').value;\n  if(text.trim()[0] != '#') {\n    return new MetaData(text, [], []);\n  }\n  const obj = textToObj(text);\n  console.log(obj);\n  return new MetaData(\n    obj['説明'] || '', \n    obj['担当'] ? obj['担当'].split(',').map(v => v.trim()) : [],\n    obj['リンク'] ? obj['リンク'].map(v => new Link(v.name, v.path)) : []\n  );\n}\n\nconst setMetaDataToTextArea = (metaData: MetaData) => {\n  q('#detailTextArea').value = [\n    '# 説明: \\n' + metaData.description, \n    '', // 空行\n    '# 担当: ' + metaData.members.join(', '),\n    '# リンク: \\n' + metaData.links.map(v => `- [${v.name}](${v.path})`)\n  ].join('\\n');\n}\n\nconst isObjectiveId = (id: string) => id[0] == 'O';\nconst isActionId = (id: string) => id[0] == 'A';\n\nconst applyTargetId = () => {\n  if(isObjectiveId(q('#targetId').value)) {\n    const id = new Objective.Id(q('#targetId').value);\n    const objective = objectiveRepository.findById(id);\n    console.log(objective);\n    q('#idSpan').innerHTML = objective.id.value;\n    q('#titleInput').value = objective.title;\n    q('#parentsInput').value = objective.parent.value;\n    setMetaDataToTextArea(objective.metaData);\n    q('#linkUl').innerHTML = objective.metaData.links.map(v => `<li><a href=\"${v.path}\" target=\"_blank\">${v.name}</a></li>`).join('\\n')\n  } else if(isActionId(q('#targetId').value)) {\n    const id = new Action.Id(q('#targetId').value);\n    const action = actionRepository.findById(id);\n    console.log(action);\n    q('#idSpan').innerHTML = action.id.value;\n    q('#titleInput').value = action.title;\n    q('#parentsInput').value = action.parents.map(v => v.value);\n    setMetaDataToTextArea(action.metaData);\n    q('#linkUl').innerHTML = action.metaData.links.map(v => `<li><a href=\"${v.path}\" target=\"_blank\">${v.name}</a></li>`).join('\\n')\n  } else {\n    alert('未知のID');\n    throw new Error('未知のID');\n  }\n}\n\nqclick('#applyTargetIdButton', applyTargetId)\n\nqclick('#createSubButton', () => {\n  q('#parentsInput').value = q('#idSpan').innerHTML;\n\n  q('#idSpan').innerHTML = '';\n  q('#titleInput').value = '';\n  setMetaDataToTextArea(MetaData.empty());\n})\n\nqclick('#saveButton', () => {\n  if(q('#idSpan').innerHTML.trim().length == 0) {\n    alert('ID未確定のため更新できません');\n    throw new Error('ID未確定のため更新できません');\n  }\n  const callbackOnSaved = (e) => {\n    if(e) {\n      console.error(e);\n      alert('エラー: ' + e.message);\n      return;\n    }\n    onTreeUpdate();\n  }\n  const idInHtml = q('#idSpan').innerHTML.trim();\n  if(idInHtml == q('#parentsInput').value) {\n    alert('IDとparentが同一です');\n    throw new Error('IDとparentが同一です');\n  }\n  if(isObjectiveId(idInHtml)) {// 目標の保存\n    const newEntity = new Objective.Entity(\n      new Objective.Id(idInHtml),\n      q('#titleInput').value,\n      new Objective.Id(q('#parentsInput').value),\n      getMetaDataFormTextArea()\n    )\n    objectiveRepository.update(newEntity, callbackOnSaved);\n  } else if(isActionId(idInHtml)) {// 施策の保存\n    const newEntity = new Action.Entity(\n      new Action.Id(q('#idSpan').innerHTML),\n      q('#titleInput').value,\n      q('#parentsInput').value.split(',').map(v => new Action.Id(v.trim())),\n      getMetaDataFormTextArea()\n    )\n    actionRepository.update(newEntity, callbackOnSaved);\n  } else {\n    alert('未知のID');\n    throw new Error('未知のID');\n  }\n})\n\nqclick('#insertButton', () => {\n  objectiveRepository.createId((err, id) => {\n    const newEntity = new Objective.Entity(\n      id,\n      q('#titleInput').value,\n      new Objective.Id(q('#parentsInput').value),\n      getMetaDataFormTextArea()\n    )\n    objectiveRepository.insert(newEntity, (e) => {\n      console.log('callback');\n      if(e) {\n        console.error(e);\n        alert('エラー: ' + e.message);\n        return;\n      }\n      onTreeUpdate();\n    });\n  })\n})\n\nqclick('#insertActionButton', () => {\n  actionRepository.createId((err, id) => {\n    const newEntity = new Action.Entity(\n      id,\n      q('#titleInput').value,\n      q('#parentsInput').value.split(',').map(v => new Objective.Id(v.trim())),\n      getMetaDataFormTextArea()\n    )\n    actionRepository.insert(newEntity, (e) => {\n      console.log('callback');\n      if(e) {\n        console.error(e);\n        alert('エラー: ' + e.message);\n        return;\n      }\n      onTreeUpdate();\n    });\n  })\n})\n\nqclick('#removeButton', () => {\n  const idInHtml = q('#idSpan').innerHTML.trim();\n  if(isObjectiveId(idInHtml)) {// 目標削除\n    const objectiveId = new Objective.Id(idInHtml);\n    if(actionRepository.hasChildren(objectiveId)) {\n      alert('子要素を消してください');\n      throw new Error('子要素を消してください');\n    }\n    objectiveRepository.remove(\n      objectiveId,\n      (e) => {\n        if(e) {\n          alert(e.message);\n          throw e;\n        }\n        onTreeUpdate();\n      }\n    )\n    \n  } else if(isActionId(idInHtml)) {// 施策削除\n    actionRepository.remove(\n      new Action.Id(idInHtml),\n      (e) => {\n        if(e) {\n          alert(e.message);\n          throw e;\n        }\n        onTreeUpdate();\n      }\n    )\n  }\n})\n\nwindow.addEventListener('hashchange', (e) => {\n  q('#targetId').value = window.location.hash.slice(1);\n  applyTargetId();\n})\n\n} catch(e) {\n  console.error(e);\n}\n\nif(location.hash) {\n  q('#targetId').value = window.location.hash.slice(1);\n}\n\n/* 特殊な記法\nキー、バリューになっている\nネスト不可\nバリューはテキスト or リンク配列\n\n# key: value\n\n# key: line1\nline2\nline3\n\n# key:\n- [name](url)\n\n*/ \nfunction textToObj(text) {\n  text = text.trim();\n  if(text[0] != '#') {\n    throw new Error('不正なテキスト');\n  }\n  return text.split('\\n').reduce((memo: string[][], v) => {\n    if(v.indexOf('# ') == 0) {\n      memo.push([v])\n    } else {\n      memo[memo.length - 1].push(v)\n    }\n    return memo;\n  }, []).reduce((memo, lines) => {\n    const key = lines[0].split('#')[1].split(':')[0].trim();\n    lines[0] = lines[0].indexOf(':') != -1 ? lines[0].slice(lines[0].indexOf(':') + 1) : '';\n    var value = lines.join('\\n').trim();\n    if(value.indexOf('- [') == 0) {\n      value = value.split('\\n').map(v => {\n        return {\n          name: v.split('[')[1].split(']')[0],\n          path: v.split('(')[1].split(')')[0],\n        }\n      }).reduce((memo, v) => {\n        memo.push(v);\n        return memo;\n      }, [])\n    }\n    memo[key] = value;\n    return memo;\n  }, {})\n}\n\n"]}